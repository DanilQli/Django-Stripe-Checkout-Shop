# üí≥ Django + Stripe Checkout Shop

–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–µ–∫—Ç –º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ Django —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Stripe Checkout, –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞–∫–∞–∑–æ–≤, —Å–∫–∏–¥–æ–∫, –Ω–∞–ª–æ–≥–æ–≤ –∏ –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç–∏.

---

## üì¶ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –ú–æ–¥–µ–ª—å `Item` —Å –ø–æ–ª—è–º–∏: `name`, `description`, `price`, `currency`
- API:
  - `GET /item/<id>/` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ —Å –∫–Ω–æ–ø–∫–æ–π "Buy"
  - `GET /buy/<id>/` ‚Äî —Å–æ–∑–¥–∞—ë—Ç Stripe Checkout Session –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É
  - `GET /order/<id>/` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–∫–∞–∑–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
- –ú–æ–¥–µ–ª—å `Order` —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
- –ú–æ–¥–µ–ª—å `Discount` (—Å–∫–∏–¥–∫–∞ –≤ %)
- –ú–æ–¥–µ–ª—å `Tax` (–Ω–∞–ª–æ–≥ –≤ %)
- Django Admin –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª—è–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker
---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/DanilQli/django-stripe-shop.git
```

### 2. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
–≠—Ç–æ—Ç —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

‚ö†Ô∏è –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è–π –µ–≥–æ –≤ GitHub!

üìÑ –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞:
```
SECRET_KEY=django-insecure-–∑–∞–º–µ–Ω–∏-–Ω–∞-—Å–≤–æ–π
DEBUG=True

STRIPE_SECRET_KEY_USD=sk_test_–≤–∞—à_–∫–ª—é—á
STRIPE_PUBLISHABLE_KEY_USD=pk_test_–≤–∞—à_–∫–ª—é—á

STRIPE_SECRET_KEY_EUR=sk_test_–µ–≤—Ä–æ_–∫–ª—é—á
STRIPE_PUBLISHABLE_KEY_EUR=pk_test_–µ–≤—Ä–æ_–∫–ª—é—á

DEFAULT_CURRENCY=usd
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ë–î –∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
python manage.py migrate
python manage.py createsuperuser
```
### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```
python manage.py runserver
```
üåê –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

http://127.0.0.1:8000/item/1/ ‚Äî –ø–æ–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–∞
http://127.0.0.1:8000/order/1/ ‚Äî –ø–æ–∫—É–ø–∫–∞ –∑–∞–∫–∞–∑–∞
http://127.0.0.1:8000/admin ‚Äî –∞–¥–º–∏–Ω–∫–∞

üê≥ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Docker
```
docker-compose up --build
```

üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π
- –í—Å–µ –∫–ª—é—á–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ .env
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ python-decouple –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- .env –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore (–Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Git)

üì° –î–µ–º–æ
- üõí –¢–æ–≤–∞—Ä: https://yourusername.pythonanywhere.com/item/1
- üì¶ –ó–∞–∫–∞–∑: https://yourusername.pythonanywhere.com/order/1
- üîê Admin: https://yourusername.pythonanywhere.com/admin
- - –õ–æ–≥–∏–Ω: danil
- - –ü–∞—Ä–æ–ª—å: 111

üß† –ë–æ–Ω—É—Å–Ω—ã–µ —Ñ–∏—á–∏
- ‚úÖ Order —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ –°–∫–∏–¥–∫–∏ (Discount)
- ‚úÖ –ù–∞–ª–æ–≥–∏ (Tax)
- ‚úÖ –í–∞–ª—é—Ç—ã: USD –∏ EUR
- ‚úÖ Stripe Checkout
- ‚úÖ Docker
- ‚úÖ –ê–¥–º–∏–Ω–∫–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PaymentIntent (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

üßæ –ü—Ä–∏–º–µ—Ä—ã API

GET /item/1
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ —Å –∫–Ω–æ–ø–∫–æ–π "Buy"

GET /buy/1
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Stripe Session –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É